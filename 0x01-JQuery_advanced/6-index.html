<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 5</title>
        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>

    </head>

    <body>
        <script type="application/javascript">
            function createFamilyTree() {
                $("body").append("<table></table>");
                $("table").append("<thead></thead>");
                $("table").append("<tbody></tbody>");
                /*DATA HEAD*/
                $("thead").append("<tr></tr>");
                $("thead > tr").append("<th></th>", "<th></th>");
                $("tr > th:first-child").append("Firstname");
                $("tr > th:last-child").append("Lastname");
            }

            function addNewMember(firstName, lastName, position) {
                let tableRow =$("<tr></tr>");
                let text = $("<td>(x)</td>");

                text.css("background-color", "orange");
                text.click(function() {
                    $(tableRow).remove()
                });

                tableRow.append("<td>" + firstName + "</td>");
                tableRow.append("<td>" + lastName + "</td>");
                tableRow.append(text);

                if (position === 'before') {
                    $("tbody").prepend(tr);
                } else {
                    $("tbody").append(tr);
                }
            }

            function createForm() {
                let selecOption = $("<select></select>");
                let buttonSubmit = $("<input type='submit'>");

                selecOption.append(
                    "<option value='before'>Before</option>",
                    "<option value='after'>After</option>"
                );

                buttonSubmit.click(function() {
                    let val1 = $("input").first().val();
                    let val2 = $("input:nth-of-type(2)").val();
                    let val3 = selecOption.val();

                    addNewMember(val1, val2, val3);
                });

                $("table").before(
                    "<input type='text'>",
                    "<input type='text'>",
                    selecOption,
                    buttonSubmit);
            }
            createFamilyTree();
            createForm();
    </script>
  </body>

</html>