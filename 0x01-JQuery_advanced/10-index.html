<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 9</title>
        <!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script> -->
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <style>
          .loading {
            opacity: 0.2;
          }
        </style>
    </head>

    <body>
      <script type="application/javascript">
        function addPostRow(data) {
          let p = $("<p></p>");
          let span = $("<span></span>");

          span.append("Post created with id " + data.id + ", title: " + data.title + ", author: " + data.author);
          p.append(span);
          $("body").append(p);
        }

        function listPosts() {
          $.get("http://localhost:3000/posts")
          .done(function(data) {
            data.forEach(item => {
              addPostRow(item);
            });
          })
          .fail(function() {
            alert("Server Error");
          })
        }

        listPosts();
      </script>
    </body>

</html>